{"ast":null,"code":"\"use strict\";\n\nfunction _interopDefault(e) {\n  return e && \"object\" == typeof e && \"default\" in e ? e.default : e;\n}\n\nvar React = require(\"react\"),\n    React__default = _interopDefault(React);\n\nrequire(\"prop-types\");\n\nvar debounce = function (r, n) {\n  var l = null;\n  return function () {\n    clearTimeout(l);\n    var e = arguments,\n        t = this;\n    l = setTimeout(function () {\n      r.apply(t, e);\n    }, n);\n  };\n};\n\nfunction includes(e, t, r) {\n  return r ? -1 < String(e).indexOf(String(t)) : -1 < String(e).toLowerCase().indexOf(String(t).toLowerCase());\n}\n\nfunction _typeof(e) {\n  return (_typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n    return typeof e;\n  } : function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n  })(e);\n}\n\nvar isDataObject = function (e, t, r) {\n  return \"object\" === _typeof(e) && e.hasOwnProperty(t) && e.hasOwnProperty(r);\n},\n    hasItem = function (e, t, r, n, l) {\n  if (!e || !t) return !1;\n\n  if (Array.isArray(e)) {\n    if (isDataObject(t, r, n)) {\n      var o = e.findIndex(function (e) {\n        return e[r] === t[r];\n      });\n      return l ? o : -1 < o;\n    }\n\n    var i = e.indexOf(t);\n    return l ? i : -1 < i;\n  }\n\n  return isDataObject(t, r, n) ? e[r] === t[r] : e === t;\n},\n    hasItemIndex = function (e, t, r, n) {\n  return hasItem(e, t, r, n, !0);\n},\n    keyExtractor = function (e, t, r) {\n  return isDataObject(e, t, r) ? e[t] : e;\n},\n    sortCollection = function (e, r) {\n  return r ? e.sort(function (e, t) {\n    return e[r] < t[r] ? -1 : 1;\n  }) : e.sort(function (e, t) {\n    return e < t ? -1 : 1;\n  });\n};\n\nfunction arraysEqual(e, t) {\n  if (e.length !== t.length) return !1;\n\n  for (var r = e.length; r;) {\n    if (e[r] !== t[r]) return !1;\n    r--;\n  }\n\n  return !0;\n}\n\nfunction split(e) {\n  var t = 1,\n      r = \"\",\n      n = e.split(\"%\"),\n      l = n.length;\n  0 < l && (r += n[0]);\n\n  for (var o = 1; o < l; o++) {\n    if (\"s\" === n[o][0] || \"d\" === n[o][0]) {\n      var i = arguments[t++];\n      r += \"d\" === n[o][0] ? Math.floor(i) : i;\n    } else n[o][0] ? r += \"%\" + n[o][0] : r += \"%\" + n[++o][0];\n\n    r += n[o].substring(1);\n  }\n\n  return r;\n}\n\nvar regex = /%[sdj]/;\n\nfunction format(e) {\n  return regex.test(e) ? split.apply(null, arguments) : Array.from(arguments).join(\" \");\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction is(e, t) {\n  return e === t ? 0 !== e || 0 !== t || 1 / e == 1 / t : e != e && t != t;\n}\n\nfunction shallowEqual(e, t) {\n  if (is(e, t)) return !0;\n  if (\"object\" != typeof e || null === e || \"object\" != typeof t || null === t) return !1;\n  var r = Object.keys(e),\n      n = Object.keys(t);\n  if (r.length !== n.length) return !1;\n\n  for (var l = 0; l < r.length; l++) if (!hasOwnProperty.call(t, r[l]) || !is(e[r[l]], t[r[l]])) return !1;\n\n  return !0;\n}\n\nvar shallowEqual_1 = shallowEqual;\n\nfunction _inheritsLoose(e, t) {\n  e.prototype = Object.create(t.prototype), (e.prototype.constructor = e).__proto__ = t;\n}\n\nfunction unwrapExports(e) {\n  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, \"default\") ? e.default : e;\n}\n\nfunction createCommonjsModule(e, t) {\n  return e(t = {\n    exports: {}\n  }, t.exports), t.exports;\n}\n\nvar lib = createCommonjsModule(function (e, t) {\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n\n  t.createChangeEmitter = function () {\n    var r = [],\n        n = r;\n\n    function l() {\n      n === r && (n = r.slice());\n    }\n\n    return {\n      listen: function (t) {\n        if (\"function\" != typeof t) throw new Error(\"Expected listener to be a function.\");\n        var r = !0;\n        return l(), n.push(t), function () {\n          if (r) {\n            r = !1, l();\n            var e = n.indexOf(t);\n            n.splice(e, 1);\n          }\n        };\n      },\n      emit: function () {\n        for (var e = r = n, t = 0; t < e.length; t++) e[t].apply(e, arguments);\n      }\n    };\n  };\n});\nunwrapExports(lib);\nvar root,\n    lib_1 = lib.createChangeEmitter;\n\nfunction symbolObservablePonyfill(e) {\n  var t,\n      r = e.Symbol;\n  return \"function\" == typeof r ? r.observable ? t = r.observable : (t = r(\"observable\"), r.observable = t) : t = \"@@observable\", t;\n}\n\nvar result = symbolObservablePonyfill(root = \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof module ? module : Function(\"return this\")()),\n    setStatic = function (t, r) {\n  return function (e) {\n    return e[t] = r, e;\n  };\n},\n    setDisplayName = function (e) {\n  return setStatic(\"displayName\", e);\n},\n    getDisplayName = function (e) {\n  return \"string\" == typeof e ? e : e ? e.displayName || e.name || \"Component\" : void 0;\n},\n    wrapDisplayName = function (e, t) {\n  return t + \"(\" + getDisplayName(e) + \")\";\n},\n    pick = function (e, t) {\n  for (var r = {}, n = 0; n < t.length; n++) {\n    var l = t[n];\n    e.hasOwnProperty(l) && (r[l] = e[l]);\n  }\n\n  return r;\n},\n    shouldUpdate = function (l) {\n  return function (e) {\n    var n = React.createFactory(e),\n        t = function (e) {\n      function t() {\n        return e.apply(this, arguments) || this;\n      }\n\n      _inheritsLoose(t, e);\n\n      var r = t.prototype;\n      return r.shouldComponentUpdate = function (e) {\n        return l(this.props, e);\n      }, r.render = function () {\n        return n(this.props);\n      }, t;\n    }(React.Component);\n\n    return \"production\" !== process.env.NODE_ENV ? setDisplayName(wrapDisplayName(e, \"shouldUpdate\"))(t) : t;\n  };\n},\n    onlyUpdateForKeys = function (r) {\n  var t = shouldUpdate(function (e, t) {\n    return !shallowEqual_1(pick(t, r), pick(e, r));\n  });\n  return \"production\" !== process.env.NODE_ENV ? function (e) {\n    return setDisplayName(wrapDisplayName(e, \"onlyUpdateForKeys\"))(t(e));\n  } : t;\n},\n    isEmptyValue = function (e) {\n  return null == e || Array.isArray(e) && !e.length;\n},\n    Placeholder = function (e) {\n  var t = e.placeholder,\n      r = e.value,\n      n = e.numberDisplayed,\n      l = e.multiple,\n      o = e.valueKey,\n      i = e.labelKey,\n      a = e.manySelectedPlaceholder,\n      s = e.allSelectedPlaceholder,\n      u = e.allSelected,\n      c = \"\";\n  if (isEmptyValue(r)) c = t;else if (Array.isArray(r) && l) r.length <= n ? c = r.map(function (e) {\n    return isDataObject(e, o, i) ? e[i] : e;\n  }).join(\", \") : a && !u ? c = includes(a, \"%s\") ? format(a, r.length) : a : u && s && (c = includes(s, \"%s\") ? format(s, r.length) : s);else {\n    var p = Array.isArray(r) ? r[0] : r;\n    c = isDataObject(p, o, i) ? p[i] : p;\n  }\n  return React__default.createElement(\"span\", {\n    className: \"picky__placeholder\"\n  }, c);\n};\n\nPlaceholder.defaultProps = {\n  placeholder: \"None selected\",\n  allSelectedPlaceholder: \"%s selected\",\n  manySelectedPlaceholder: \"%s selected\",\n  allSelected: !1\n};\nvar Placeholder$1 = onlyUpdateForKeys([\"multiple\", \"value\", \"numberDisplayed\", \"allSelected\", \"allSelectedPlaceholder\"])(Placeholder);\n\nfunction _typeof$1(e) {\n  return (_typeof$1 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n    return typeof e;\n  } : function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n  })(e);\n}\n\nfunction _classCallCheck(e, t) {\n  if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\nfunction _defineProperties(e, t) {\n  for (var r = 0; r < t.length; r++) {\n    var n = t[r];\n    n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n  }\n}\n\nfunction _createClass(e, t, r) {\n  return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e;\n}\n\nfunction _possibleConstructorReturn(e, t) {\n  return !t || \"object\" !== _typeof$1(t) && \"function\" != typeof t ? _assertThisInitialized(e) : t;\n}\n\nfunction _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\n\nfunction _getPrototypeOf(e) {\n  return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n    return e.__proto__ || Object.getPrototypeOf(e);\n  })(e);\n}\n\nfunction _inherits(e, t) {\n  if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n  e.prototype = Object.create(t && t.prototype, {\n    constructor: {\n      value: e,\n      writable: !0,\n      configurable: !0\n    }\n  }), t && _setPrototypeOf(e, t);\n}\n\nfunction _setPrototypeOf(e, t) {\n  return (_setPrototypeOf = Object.setPrototypeOf || function (e, t) {\n    return e.__proto__ = t, e;\n  })(e, t);\n}\n\nvar Filter = function (e) {\n  function t() {\n    return _classCallCheck(this, t), _possibleConstructorReturn(this, _getPrototypeOf(t).apply(this, arguments));\n  }\n\n  return _inherits(t, React.Component), _createClass(t, [{\n    key: \"shouldComponentUpdate\",\n    value: function (e) {\n      return this.props.placeholder !== e.placeholder || this.props.tabIndex !== e.tabIndex;\n    }\n  }, {\n    key: \"render\",\n    value: function () {\n      var t = this;\n      return React__default.createElement(\"div\", {\n        className: \"picky__filter\"\n      }, React__default.createElement(\"input\", {\n        type: \"text\",\n        ref: function (e) {\n          return t.filterInput = e;\n        },\n        className: \"picky__filter__input\",\n        placeholder: this.props.placeholder,\n        tabIndex: this.props.tabIndex,\n        \"aria-label\": \"filter options\",\n        onChange: function (e) {\n          return t.props.onFilterChange(e.target.value);\n        }\n      }));\n    }\n  }]), t;\n}();\n\nFilter.defaultProps = {\n  placeholder: \"Filter...\"\n};\n\nvar Option = function (e) {\n  var t = e.id,\n      r = e.item,\n      n = e.isSelected,\n      l = e.labelKey,\n      o = e.valueKey,\n      i = e.selectValue,\n      a = e.style,\n      s = e.multiple,\n      u = e.tabIndex,\n      c = e.disabled,\n      p = n ? \"option selected\" : \"option\",\n      d = isDataObject(r, l, o) ? r[l] : r,\n      f = s ? \"checkbox\" : \"radio\";\n  return React__default.createElement(\"div\", {\n    tabIndex: u,\n    id: t,\n    role: \"option\",\n    style: a,\n    \"data-selected\": n ? \"selected\" : \"\",\n    \"aria-selected\": n,\n    className: p,\n    onClick: function () {\n      return !c && i(r);\n    },\n    onKeyPress: function (e) {\n      e.preventDefault(), c || i(r);\n    }\n  }, React__default.createElement(\"input\", {\n    type: f,\n    readOnly: !0,\n    tabIndex: -1,\n    disabled: c,\n    checked: n,\n    \"aria-label\": d\n  }), d);\n},\n    Option$1 = onlyUpdateForKeys([\"multiple\", \"isSelected\", \"id\", \"item\", \"tabIndex\"])(Option);\n\nfunction SelectAll(e) {\n  var t = e.tabIndex,\n      r = e.disabled,\n      n = e.allSelected,\n      l = e.id,\n      o = e.selectAllText,\n      i = e.toggleSelectAll;\n  return e.visible ? React__default.createElement(\"div\", {\n    tabIndex: t,\n    role: \"option\",\n    id: l + \"-option-selectall\",\n    \"data-selectall\": \"true\",\n    \"aria-selected\": n,\n    className: n ? \"option selected\" : \"option\",\n    onClick: i,\n    disabled: r,\n    onKeyPress: i\n  }, React__default.createElement(\"input\", {\n    type: \"checkbox\",\n    readOnly: !0,\n    tabIndex: -1,\n    checked: n,\n    \"aria-label\": \"select all\",\n    disabled: r\n  }), React__default.createElement(\"span\", null, o)) : null;\n}\n\nvar SelectAll$1 = onlyUpdateForKeys([\"tabIndex\", \"disabled\", \"allSelected\", \"selectAllText\", \"visible\"])(SelectAll);\n\nfunction _extends() {\n  return (_extends = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = arguments[t];\n\n      for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n\n  var r,\n      n,\n      l = _objectWithoutPropertiesLoose(e, t);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n\n    for (n = 0; n < o.length; n++) r = o[n], 0 <= t.indexOf(r) || Object.prototype.propertyIsEnumerable.call(e, r) && (l[r] = e[r]);\n  }\n\n  return l;\n}\n\nfunction _objectWithoutPropertiesLoose(e, t) {\n  if (null == e) return {};\n  var r,\n      n,\n      l = {},\n      o = Object.keys(e);\n\n  for (n = 0; n < o.length; n++) r = o[n], 0 <= t.indexOf(r) || (l[r] = e[r]);\n\n  return l;\n}\n\nfunction Button(e) {\n  var t = e.id,\n      r = e.disabled,\n      n = e.onClick,\n      l = e.children,\n      o = e.className,\n      i = _objectWithoutProperties(e, [\"id\", \"disabled\", \"onClick\", \"children\", \"className\"]),\n      a = \"\".concat(t, \"__button\"),\n      s = [\"picky__input\", r ? \"picky__input--disabled\" : \"\", o].join(\" \");\n\n  return React__default.createElement(\"button\", _extends({\n    id: a,\n    type: \"button\",\n    className: s,\n    onClick: n\n  }, i), l);\n}\n\nButton.displayName = \"Button\";\nvar Button$1 = onlyUpdateForKeys([\"disabled\", \"children\"])(Button);\n\nfunction _typeof$2(e) {\n  return (_typeof$2 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n    return typeof e;\n  } : function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n  })(e);\n}\n\nfunction _extends$1() {\n  return (_extends$1 = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = arguments[t];\n\n      for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction _objectSpread(t) {\n  for (var e = 1; e < arguments.length; e++) {\n    var r = null != arguments[e] ? arguments[e] : {},\n        n = Object.keys(r);\n    \"function\" == typeof Object.getOwnPropertySymbols && (n = n.concat(Object.getOwnPropertySymbols(r).filter(function (e) {\n      return Object.getOwnPropertyDescriptor(r, e).enumerable;\n    }))), n.forEach(function (e) {\n      _defineProperty(t, e, r[e]);\n    });\n  }\n\n  return t;\n}\n\nfunction _defineProperty(e, t, r) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: r,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = r, e;\n}\n\nfunction _toConsumableArray(e) {\n  return _arrayWithoutHoles(e) || _iterableToArray(e) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(e) {\n  if (Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e)) return Array.from(e);\n}\n\nfunction _arrayWithoutHoles(e) {\n  if (Array.isArray(e)) {\n    for (var t = 0, r = new Array(e.length); t < e.length; t++) r[t] = e[t];\n\n    return r;\n  }\n}\n\nfunction _classCallCheck$1(e, t) {\n  if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\nfunction _defineProperties$1(e, t) {\n  for (var r = 0; r < t.length; r++) {\n    var n = t[r];\n    n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n  }\n}\n\nfunction _createClass$1(e, t, r) {\n  return t && _defineProperties$1(e.prototype, t), r && _defineProperties$1(e, r), e;\n}\n\nfunction _possibleConstructorReturn$1(e, t) {\n  return !t || \"object\" !== _typeof$2(t) && \"function\" != typeof t ? _assertThisInitialized$1(e) : t;\n}\n\nfunction _getPrototypeOf$1(e) {\n  return (_getPrototypeOf$1 = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n    return e.__proto__ || Object.getPrototypeOf(e);\n  })(e);\n}\n\nfunction _assertThisInitialized$1(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\n\nfunction _inherits$1(e, t) {\n  if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n  e.prototype = Object.create(t && t.prototype, {\n    constructor: {\n      value: e,\n      writable: !0,\n      configurable: !0\n    }\n  }), t && _setPrototypeOf$1(e, t);\n}\n\nfunction _setPrototypeOf$1(e, t) {\n  return (_setPrototypeOf$1 = Object.setPrototypeOf || function (e, t) {\n    return e.__proto__ = t, e;\n  })(e, t);\n}\n\nvar Picky = function (e) {\n  function r(e) {\n    var t;\n    return _classCallCheck$1(this, r), (t = _possibleConstructorReturn$1(this, _getPrototypeOf$1(r).call(this, e))).state = {\n      selectedValue: e.value || (e.multiple ? [] : null),\n      open: e.open,\n      filtered: !1,\n      filteredOptions: [],\n      allSelected: !1\n    }, t.toggleDropDown = t.toggleDropDown.bind(_assertThisInitialized$1(t)), t.toggleSelectAll = t.toggleSelectAll.bind(_assertThisInitialized$1(t)), t.onFilterChange = t.onFilterChange.bind(_assertThisInitialized$1(t)), t.selectValue = t.selectValue.bind(_assertThisInitialized$1(t)), t.allSelected = t.allSelected.bind(_assertThisInitialized$1(t)), t.handleOutsideClick = t.handleOutsideClick.bind(_assertThisInitialized$1(t)), t.isItemSelected = t.isItemSelected.bind(_assertThisInitialized$1(t)), t.focusFilterInput = t.focusFilterInput.bind(_assertThisInitialized$1(t)), t.getValue = t.getValue.bind(_assertThisInitialized$1(t)), t;\n  }\n\n  return _inherits$1(r, React__default.PureComponent), _createClass$1(r, [{\n    key: \"UNSAFE_componentWillMount\",\n    value: function () {\n      this.setState({\n        allSelected: this.allSelected()\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      this.focusFilterInput(this.state.open);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function () {\n      document.removeEventListener(\"click\", this.handleOutsideClick, !1);\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function (e) {\n      if (this.props.options !== e.options || this.props.value !== e.value) {\n        var t = Array.isArray(e.value) ? arraysEqual(e.value, this.props.value) : e.value === this.props.value,\n            r = arraysEqual(e.options, this.props.options);\n        this.setState({\n          allSelected: t && r ? this.allSelected() : this.allSelected(e.value, e.options)\n        });\n      }\n    }\n  }, {\n    key: \"selectValue\",\n    value: function (e) {\n      var t = this,\n          r = this.props.value;\n\n      if (this.props.multiple && Array.isArray(r)) {\n        var n = hasItemIndex(r, e, this.props.valueKey, this.props.labelKey),\n            l = [];\n        l = -1 < n ? [].concat(_toConsumableArray(r.slice(0, n)), _toConsumableArray(r.slice(n + 1))) : [].concat(_toConsumableArray(this.props.value), [e]), this.setState({\n          allSelected: this.allSelected(l)\n        }, function () {\n          t.props.onChange(l);\n        });\n      } else this.props.onChange(e);\n    }\n  }, {\n    key: \"getValue\",\n    value: function (e) {\n      return void 0 !== this.props.valueKey ? e[this.props.valueKey] : e;\n    }\n  }, {\n    key: \"allSelected\",\n    value: function (e, t) {\n      var r = this.props,\n          n = r.value,\n          l = r.options,\n          o = e || n,\n          i = t || l;\n      if (i && 0 === i.length) return !1;\n      var a = i.map(this.getValue),\n          s = Array.isArray(o) ? o.map(this.getValue) : [];\n      return arraysEqual(sortCollection(s), sortCollection(a));\n    }\n  }, {\n    key: \"toggleSelectAll\",\n    value: function () {\n      var t = this;\n      this.props.disabled || this.setState(function (e) {\n        return _objectSpread({}, e, {\n          allSelected: !t.state.allSelected\n        });\n      }, function () {\n        t.state.allSelected ? t.props.onChange(t.props.options) : t.props.onChange([]);\n      });\n    }\n  }, {\n    key: \"isItemSelected\",\n    value: function (e) {\n      return hasItem(this.props.value, e, this.props.valueKey, this.props.labelKey);\n    }\n  }, {\n    key: \"renderOptions\",\n    value: function () {\n      var l = this,\n          e = this.state.filtered ? this.state.filteredOptions : this.props.options,\n          t = this.props,\n          o = t.labelKey,\n          i = t.valueKey,\n          a = t.multiple,\n          s = t.render,\n          u = t.tabIndex,\n          r = t.renderList,\n          c = t.disabled;\n      return r ? r({\n        items: e,\n        selected: this.props.value,\n        multiple: a,\n        tabIndex: u,\n        getIsSelected: this.isItemSelected,\n        selectValue: this.selectValue,\n        disabled: c\n      }) : e.map(function (e, t) {\n        var r = keyExtractor(e, i, o),\n            n = l.isItemSelected(e);\n        return \"function\" == typeof s ? s({\n          index: t,\n          item: e,\n          isSelected: n,\n          selectValue: l.selectValue,\n          labelKey: o,\n          valueKey: i,\n          multiple: a,\n          disabled: c\n        }) : React__default.createElement(Option$1, {\n          key: r,\n          item: e,\n          isSelected: n,\n          selectValue: l.selectValue,\n          labelKey: o,\n          valueKey: i,\n          multiple: a,\n          tabIndex: u,\n          disabled: c,\n          id: l.props.id + \"-option-\" + t\n        });\n      });\n    }\n  }, {\n    key: \"onFilterChange\",\n    value: function (t) {\n      var r = this;\n      if (this.props.getFilterValue && this.props.getFilterValue(t), !t.trim()) return this.setState({\n        filtered: !1,\n        filteredOptions: []\n      });\n      var n = isDataObject(this.props.options && this.props.options[0], this.props.valueKey, this.props.labelKey),\n          e = this.props.options.filter(function (e) {\n        return includes(n ? e[r.props.labelKey] : e, t, r.props.caseSensitiveFilter);\n      });\n      this.setState({\n        filtered: !0,\n        filteredOptions: e\n      }, function () {\n        r.props.onFiltered && r.props.onFiltered(e);\n      });\n    }\n  }, {\n    key: \"handleOutsideClick\",\n    value: function (e) {\n      var t = this.props.keepOpen || this.props.multiple;\n      this.node && this.node.contains(e.target) && t || this.filter && this.filter.filterInput && this.filter.filterInput.contains(e.target) || this.toggleDropDown();\n    }\n  }, {\n    key: \"focusFilterInput\",\n    value: function (e) {\n      e && this.props.defaultFocusFilter && this.filter && this.filter.filterInput && this.filter.filterInput.focus();\n    }\n  }, {\n    key: \"toggleDropDown\",\n    value: function () {\n      var t = this;\n      this.state.open ? document.removeEventListener(\"click\", this.handleOutsideClick, !1) : document.addEventListener(\"click\", this.handleOutsideClick, !1), this.setState(function (e) {\n        return _objectSpread({}, e, {\n          open: !e.open\n        });\n      }, function () {\n        var e = t.state.open;\n        t.focusFilterInput(e), e && t.props.onOpen ? t.props.onOpen() : !e && t.props.onClose && t.props.onClose();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function () {\n      var t = this,\n          e = this.props,\n          r = e.className,\n          n = e.placeholder,\n          l = e.value,\n          o = e.multiple,\n          i = e.numberDisplayed,\n          a = e.includeFilter,\n          s = e.valueKey,\n          u = e.labelKey,\n          c = e.tabIndex,\n          p = e.dropdownHeight,\n          d = e.renderSelectAll,\n          f = e.filterPlaceholder,\n          y = e.disabled,\n          h = e.buttonProps,\n          b = this.state.open,\n          _ = \"\";\n      b && (_ += this.props.id + \"-list\");\n      var m = \"\".concat(this.props.id, \"__button\"),\n          v = {\n        maxHeight: p,\n        overflowY: \"scroll\"\n      };\n      return React__default.createElement(\"div\", {\n        ref: function (e) {\n          t.node = e;\n        },\n        className: [\"picky\", r].join(\" \"),\n        id: this.props.id,\n        role: \"combobox\",\n        \"aria-controls\": m,\n        \"aria-expanded\": b,\n        \"aria-haspopup\": b,\n        \"aria-owns\": _,\n        tabIndex: c\n      }, React__default.createElement(Button$1, _extends$1({\n        id: \"\".concat(this.props.id, \"__button\"),\n        disabled: y,\n        onClick: this.toggleDropDown\n      }, h), React__default.createElement(Placeholder$1, {\n        allSelected: this.state.allSelected,\n        placeholder: n,\n        manySelectedPlaceholder: this.props.manySelectedPlaceholder,\n        allSelectedPlaceholder: this.props.allSelectedPlaceholder,\n        value: l,\n        multiple: o,\n        numberDisplayed: i,\n        valueKey: s,\n        labelKey: u\n      })), React__default.createElement(\"div\", {\n        className: \"picky__dropdown\",\n        id: this.props.id + \"-list\",\n        \"aria-hidden\": !b,\n        hidden: !b,\n        style: b ? v : {\n          visibility: \"hidden\"\n        }\n      }, a && React__default.createElement(Filter, {\n        ref: function (e) {\n          return t.filter = e;\n        },\n        placeholder: f,\n        onFilterChange: this.filterDebounce\n      }), d ? d({\n        filtered: this.state.filtered,\n        allSelected: this.state.allSelected,\n        toggleSelectAll: this.toggleSelectAll,\n        tabIndex: c,\n        multiple: o,\n        disabled: y\n      }) : React__default.createElement(SelectAll$1, {\n        visible: this.showSelectAll,\n        tabIndex: c,\n        disabled: y,\n        allSelected: this.state.allSelected,\n        id: this.props.id,\n        selectAllText: this.props.selectAllText,\n        toggleSelectAll: this.toggleSelectAll\n      }), b && React__default.createElement(\"div\", null, this.renderOptions())));\n    }\n  }, {\n    key: \"filterDebounce\",\n    get: function () {\n      var e = this.props.filterDebounce;\n      return 0 < e ? debounce(this.onFilterChange, e) : this.onFilterChange;\n    }\n  }, {\n    key: \"showSelectAll\",\n    get: function () {\n      var e = this.props,\n          t = e.renderSelectAll,\n          r = e.multiple,\n          n = e.includeSelectAll;\n      return !t && n && r && !this.state.filtered;\n    }\n  }]), r;\n}();\n\nPicky.defaultProps = {\n  numberDisplayed: 3,\n  options: [],\n  filterDebounce: 150,\n  dropdownHeight: 300,\n  onChange: function () {},\n  tabIndex: 0,\n  keepOpen: !0,\n  selectAllText: \"Select all\"\n}, Array.prototype.findIndex || Object.defineProperty(Array.prototype, \"findIndex\", {\n  value: function (e) {\n    if (null == this) throw new TypeError('\"this\" is null or not defined');\n    var t = Object(this),\n        r = t.length >>> 0;\n    if (\"function\" != typeof e) throw new TypeError(\"predicate must be a function\");\n\n    for (var n = arguments[1], l = 0; l < r;) {\n      var o = t[l];\n      if (e.call(n, o, l, t)) return l;\n      l++;\n    }\n\n    return -1;\n  }\n}), module.exports = Picky;","map":null,"metadata":{},"sourceType":"script"}